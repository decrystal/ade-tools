"use strict";(self.webpackChunknicecode=self.webpackChunknicecode||[]).push([[2477],{2477:function(De,ue,s){s.d(ue,{s:function(){return ie},Z:function(){return xe}});var S=s(37469),H=s(81322),fe=s(89337),t=s(50959),p=t.createContext({}),c=s(36522),de=s(82187),R=s.n(de),_=s(29326),me=s(98702),ee=s(75924),te=s(50361);function ne(e,a,n){var o=a;return!o&&n&&(o="".concat(e,"-").concat(n)),o}function ae(e,a){var n=e["page".concat(a?"Y":"X","Offset")],o="scroll".concat(a?"Top":"Left");if(typeof n!="number"){var l=e.document;n=l.documentElement[o],typeof n!="number"&&(n=l.body[o])}return n}function ve(e){var a=e.getBoundingClientRect(),n={left:a.left,top:a.top},o=e.ownerDocument,l=o.defaultView||o.parentWindow;return n.left+=ae(l),n.top+=ae(l,!0),n}var oe=s(10091),Ce=s(59307),ye=s(78404),Ne=t.memo(function(e){var a=e.children;return a},function(e,a){var n=a.shouldUpdate;return!n}),le={width:0,height:0,overflow:"hidden",outline:"none"},ge={outline:"none"},he=t.forwardRef(function(e,a){var n=e.prefixCls,o=e.className,l=e.style,i=e.title,v=e.ariaId,m=e.footer,u=e.closable,C=e.closeIcon,N=e.onClose,Z=e.children,g=e.bodyStyle,h=e.bodyProps,E=e.modalRender,k=e.onMouseDown,w=e.onMouseUp,U=e.holderRef,P=e.visible,A=e.forceRender,y=e.width,D=e.height,f=e.classNames,d=e.styles,K=t.useContext(p),X=K.panel,Y=(0,ye.x1)(U,X),V=(0,t.useRef)(),W=(0,t.useRef)(),x=(0,t.useRef)();t.useImperativeHandle(a,function(){return{focus:function(){var I;(I=x.current)===null||I===void 0||I.focus()},changeActive:function(I){var G=document,j=G.activeElement;I&&j===W.current?V.current.focus():!I&&j===V.current&&W.current.focus()}}});var b={};y!==void 0&&(b.width=y),D!==void 0&&(b.height=D);var M;m&&(M=t.createElement("div",{className:R()("".concat(n,"-footer"),f==null?void 0:f.footer),style:(0,c.Z)({},d==null?void 0:d.footer)},m));var O;i&&(O=t.createElement("div",{className:R()("".concat(n,"-header"),f==null?void 0:f.header),style:(0,c.Z)({},d==null?void 0:d.header)},t.createElement("div",{className:"".concat(n,"-title"),id:v},i)));var $=(0,t.useMemo)(function(){return(0,Ce.Z)(u)==="object"&&u!==null?u:u?{closeIcon:C!=null?C:t.createElement("span",{className:"".concat(n,"-close-x")})}:{}},[u,C]),F=(0,te.Z)($,!0),z;u&&(z=t.createElement("button",(0,S.Z)({type:"button",onClick:N,"aria-label":"Close"},F,{className:"".concat(n,"-close")}),$.closeIcon));var T=t.createElement("div",{className:R()("".concat(n,"-content"),f==null?void 0:f.content),style:d==null?void 0:d.content},z,O,t.createElement("div",(0,S.Z)({className:R()("".concat(n,"-body"),f==null?void 0:f.body),style:(0,c.Z)((0,c.Z)({},g),d==null?void 0:d.body)},h),Z),M);return t.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":i?v:null,"aria-modal":"true",ref:Y,style:(0,c.Z)((0,c.Z)({},l),b),className:R()(n,o),onMouseDown:k,onMouseUp:w},t.createElement("div",{tabIndex:0,ref:V,style:le,"aria-hidden":"true"}),t.createElement("div",{ref:x,tabIndex:-1,style:ge},t.createElement(Ne,{shouldUpdate:P||A},E?E(T):T)),t.createElement("div",{tabIndex:0,ref:W,style:le,"aria-hidden":"true"}))}),ie=he,re=t.forwardRef(function(e,a){var n=e.prefixCls,o=e.title,l=e.style,i=e.className,v=e.visible,m=e.forceRender,u=e.destroyOnClose,C=e.motionName,N=e.ariaId,Z=e.onVisibleChanged,g=e.mousePosition,h=(0,t.useRef)(),E=t.useState(),k=(0,H.Z)(E,2),w=k[0],U=k[1],P={};w&&(P.transformOrigin=w);function A(){var y=ve(h.current);U(g?"".concat(g.x-y.left,"px ").concat(g.y-y.top,"px"):"")}return t.createElement(oe.ZP,{visible:v,onVisibleChanged:Z,onAppearPrepare:A,onEnterPrepare:A,forceRender:m,motionName:C,removeOnLeave:u,ref:h},function(y,D){var f=y.className,d=y.style;return t.createElement(ie,(0,S.Z)({},e,{ref:a,title:o,ariaId:N,prefixCls:n,holderRef:D,style:(0,c.Z)((0,c.Z)((0,c.Z)({},d),l),P),className:R()(i,f)}))})});re.displayName="Content";var be=re;function Re(e){var a=e.prefixCls,n=e.style,o=e.visible,l=e.maskProps,i=e.motionName,v=e.className;return t.createElement(oe.ZP,{key:"mask",visible:o,motionName:i,leavedClassName:"".concat(a,"-mask-hidden")},function(m,u){var C=m.className,N=m.style;return t.createElement("div",(0,S.Z)({ref:u,style:(0,c.Z)((0,c.Z)({},N),n),className:R()("".concat(a,"-mask"),C,v)},l))})}var Me=s(24694);function Ze(e){var a=e.prefixCls,n=a===void 0?"rc-dialog":a,o=e.zIndex,l=e.visible,i=l===void 0?!1:l,v=e.keyboard,m=v===void 0?!0:v,u=e.focusTriggerAfterClose,C=u===void 0?!0:u,N=e.wrapStyle,Z=e.wrapClassName,g=e.wrapProps,h=e.onClose,E=e.afterOpenChange,k=e.afterClose,w=e.transitionName,U=e.animation,P=e.closable,A=P===void 0?!0:P,y=e.mask,D=y===void 0?!0:y,f=e.maskTransitionName,d=e.maskAnimation,K=e.maskClosable,X=K===void 0?!0:K,Y=e.maskStyle,V=e.maskProps,W=e.rootClassName,x=e.classNames,b=e.styles,M=(0,t.useRef)(),O=(0,t.useRef)(),$=(0,t.useRef)(),F=t.useState(i),z=(0,H.Z)(F,2),T=z[0],L=z[1],I=(0,me.Z)();function G(){(0,_.Z)(O.current,document.activeElement)||(M.current=document.activeElement)}function j(){if(!(0,_.Z)(O.current,document.activeElement)){var r;(r=$.current)===null||r===void 0||r.focus()}}function Se(r){if(r)j();else{if(L(!1),D&&M.current&&C){try{M.current.focus({preventScroll:!0})}catch(q){}M.current=null}T&&(k==null||k())}E==null||E(r)}function J(r){h==null||h(r)}var B=(0,t.useRef)(!1),Q=(0,t.useRef)(),ke=function(){clearTimeout(Q.current),B.current=!0},Ie=function(){Q.current=setTimeout(function(){B.current=!1})},ce=null;X&&(ce=function(q){B.current?B.current=!1:O.current===q.target&&J(q)});function Pe(r){if(m&&r.keyCode===ee.Z.ESC){r.stopPropagation(),J(r);return}i&&r.keyCode===ee.Z.TAB&&$.current.changeActive(!r.shiftKey)}return(0,t.useEffect)(function(){i&&(L(!0),G())},[i]),(0,t.useEffect)(function(){return function(){clearTimeout(Q.current)}},[]),t.createElement("div",(0,S.Z)({className:R()("".concat(n,"-root"),W)},(0,te.Z)(e,{data:!0})),t.createElement(Re,{prefixCls:n,visible:D&&i,motionName:ne(n,f,d),style:(0,c.Z)((0,c.Z)({zIndex:o},Y),b==null?void 0:b.mask),maskProps:V,className:x==null?void 0:x.mask}),t.createElement("div",(0,S.Z)({tabIndex:-1,onKeyDown:Pe,className:R()("".concat(n,"-wrap"),Z,x==null?void 0:x.wrapper),ref:O,onClick:ce,style:(0,c.Z)((0,c.Z)((0,c.Z)({zIndex:o},N),b==null?void 0:b.wrapper),{},{display:T?null:"none"})},g),t.createElement(be,(0,S.Z)({},e,{onMouseDown:ke,onMouseUp:Ie,ref:$,closable:A,ariaId:I,prefixCls:n,visible:i&&T,onClose:J,onVisibleChanged:Se,motionName:ne(n,w,U)}))))}var se=function(a){var n=a.visible,o=a.getContainer,l=a.forceRender,i=a.destroyOnClose,v=i===void 0?!1:i,m=a.afterClose,u=a.panelRef,C=t.useState(n),N=(0,H.Z)(C,2),Z=N[0],g=N[1],h=t.useMemo(function(){return{panel:u}},[u]);return t.useEffect(function(){n&&g(!0)},[n]),!l&&v&&!Z?null:t.createElement(p.Provider,{value:h},t.createElement(fe.Z,{open:n||l||Z,autoDestroy:!1,getContainer:o,autoLock:n||Z},t.createElement(Ze,(0,S.Z)({},a,{destroyOnClose:v,afterClose:function(){m==null||m(),g(!1)}}))))};se.displayName="Dialog";var Ee=se,xe=Ee}}]);
